classDiagram
direction LR
    class Echange {
	    +id : int
	    +agent : AgentType                %% enum: system|user|assistant
	    +message : string
	    +date_msg : datetime
	    +agent_name : string              %% optionnel(nom d'agent)
	    +afficher_echange() : string
    }

    class Statistiques {
	    +nb_conversations : int
	    +nb_messages : int
	    +heures_utilisation : double
	    +sujets_plus_frequents : list~string~
    }

    class Participant {
	    +user_id : int
	    +conv_id : int
	    +role : RoleType                  %% enum: OWNER|MEMBER|GUEST
	    +date_joined : datetime
    }

    class Conversation {
	    +id : int
	    +nom : string
	    +date_creation : datetime
	    +personnalisation : string        %% style / persona LLM pour cette conversation
	    +echanges : list~Echange~
	    +participants : list~Participant~
	    +afficher_conv() : string
    }

    class Utilisateur {
	    +id : int
	    +pseudo : string
	    -password_hash : string
	    +conversations : list~Conversation~  %% vue matérialisée/convenance
	    +afficher_utilisateur() : string
    }

    Utilisateur "0..*" -- "0..*" Conversation : "via Participation"
    Conversation "1" o-- "0..*" Echange : contient
    Participant "0..*" --> "1" Utilisateur : concerne
    Participant "0..*" --> "1" Conversation : concerne

